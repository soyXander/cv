---
import Section from "@/components/Section.astro"

import { education } from "@cv"
---

<Section title="EducaciÃ³n">
  {
    education.map(({ institution, career, studyType, startDate, endDate }) => {
      const formatStartDate = () => {
        const date = new Date(startDate)
        return `${date.getMonth() + 1}/${date.getFullYear()}`
      }

      const formatEndDate = () => {
        if (!endDate) {
          return "Actual"
        }
        const date = new Date(endDate)
        return `${date.getMonth() + 1}/${date.getFullYear()}`
      }

      return (
        <div class="space-y-1 pb-4">
          <div class="flex justify-between">
            <h3>
              <a class="text-base font-bold hover:underline">{career}</a>
              {studyType && (
                <span class="inline-flex gap-x-1">
                  <div class="bg-muted pointer-events-none rounded-md border border-transparent px-1.5 py-0.5 font-mono text-xs font-semibold">
                    {studyType}
                  </div>
                </span>
              )}
            </h3>
            <h3 class="text-sm tabular-nums text-gray-500">
              {formatStartDate} - {formatEndDate}
            </h3>
          </div>
          <h4 class="text-pretty font-mono text-sm text-primary">
            {institution}
          </h4>
        </div>
      )
    })
  }
</Section>
